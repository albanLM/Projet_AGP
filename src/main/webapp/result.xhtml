<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Kalimera results</title>
</h:head>
<h:body>
	<fieldset>
		<legend>
			<strong>Search data</strong>
		</legend>		
		Excurtion type : #{resultBean.type} <br /> 
		Keywords : #{resultBean.keywords} <br /> 
		Duration : #{resultBean.duration} days <br />
		Range price : Between #{resultBean.priceMin} and #{resultBean.priceMax} <br /> 
		Client satisfaction rate : #{resultBean.keywords} % <br />

	</fieldset>
	<fieldset>		
		
<h:form>
    <p:dataTable var="trips" value="#{resultBean.trips}">
        <f:facet name="header">
            Results
        </f:facet>
 
        <p:columnGroup type="header">
            <p:row>
                <p:column rowspan="2" headerText="Location" />
                <p:column colspan="2" headerText="Informations" />
                
            </p:row>
            <p:row>
                <p:column headerText="Excursion" />
                <p:column headerText="Departure time" />
                <p:column headerText="Price" />
            </p:row>
        </p:columnGroup>
 
        <p:subTable var="stats" value="#{trips.trips}">
            <f:facet name="header">
                <h:outputText value="#{stats.hotel.name}" />
            </f:facet>
            <p:column>
                <h:outputText value="#{stats.excursions.price}" />
            </p:column>
            <p:column>
                <h:outputText value="#{stats.excursions.price}" />
            </p:column>
            <p:column>
                <h:outputText value="Day #{stats.excursions.start.day}" />
            </p:column>
            <p:columnGroup type="footer">
                <p:row>
                    <p:column footerText="Totals: " style="text-align:right"/>
                    <p:column footerText="#{team.allWins}" />
                    <p:column footerText="#{team.allLosses}" />
                </p:row>
            </p:columnGroup>
        </p:subTable>
    </p:dataTable>
</h:form>

	</fieldset>
	
	<fieldset>
		<h:form>
			<h:commandButton value="New Search" action="#{resultBean.start}" />
		</h:form>
	</fieldset>
</h:body>
</html>
